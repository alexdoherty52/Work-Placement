<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron&family=Literata">

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hanoi Towers</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #07001e; /* background color*/
    }

a {
  text-decoration: none;
  display: inline-block;
  padding: 8px 16px;
}
  
a:hover {
  background-color: #ffffffd7;
  color: black;
}

.previous {
  display: inline-block;
  padding: 8px 18px;
  margin: 10px;
  background-color: #000000e1; /* Green background */
  color: #ffffff;
  border-radius: 5px;
  cursor: pointer;
  position: absolute;
  top: 8px;
  left: 8px;
  font-size: 35px;
  font-weight: 700;
  border-radius: 50%;
}



    .triangle {
      position: absolute;
      width: 0;
      height: 0;
    }

    .container {
      max-width: 1000px;
      max-height:350px;
      margin: 0 auto;
      text-align: center;
    }

    .towers {
      display: flex;
      justify-content: space-between;
      margin-bottom: 40px;
    }

    .tower {
      width: 300px;
      height: 280px;
      background-color: #ffffffc7;
      position: relative;
      display: flex;
      flex-direction: column-reverse;
      align-items: center;
      padding: 5px;
    }

    .disk1 {
      width: 40%;
      height: 70px;
      background-color: #0066ba;
      margin: 2px 0;
      cursor: pointer;
      border-radius: 50px;
    }
    .disk2 {
      width: 60%;
      height: 75px;
      background-color: #6d00ab;
      margin: 2px 0;
      cursor: pointer;
      border-radius: 50px;
    }
    .disk3 {
      width: 90%;
      height: 80px;
      background-color: #b70058;
      margin: 2px 0;
      cursor: pointer;
      border-radius: 50px;
    }

    #moveCount {
      margin-bottom: 10px;
      position: relative;
      font-weight: bold;
      font-size: 23px;
      font-family: Orbitron;
      color: rgb(0, 0, 0);
    }

    #resetButton {
      align-items: center;
      background-color: #ecbbffef;
      border-radius: 50px;
      box-shadow: transparent 0 0 0 3px,rgba(18, 18, 18, .1) 0 6px 20px;
      box-sizing: border-box;
      color: #000000;
      cursor: pointer;
      display: inline-flex;
      flex: 1 1 auto;
      font-family: Orbitron;
      font-size: 1.8rem;
      font-weight: bolder;
      justify-content: center;
      line-height: 0.8;
      margin: 0;
      outline: none;
      padding: 1rem 2.5rem;
      text-align: center;
      text-decoration: none;
      white-space: nowrap;
      border: 0;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
      letter-spacing: 0.2em; /* Adjust the spacing value as needed */
      width: 170px; /* Adjust the width as needed */
      height: 50px; /* Adjust the height as needed */
    }

    #resetButton:hover {
      box-shadow: #fae7ffb9 0 0 0 4px, transparent 0 0 0 0;
    }

    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #f0f0f0;
      padding: 20px;
      border: 2px solid #ccc;
      border-radius: 5px;
      z-index: 999;
    }

    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 998;
    }
    
    .label {
    position: relative;
    font-weight: bold;
    font-size: 22px;
    font-family: Orbitron;
    color: rgb(0, 0, 0);
    }
    
  </style>
</head>
<body>
  <a href="index.html" class="previous">&laquo;</a>

<!-- Triangle 1 -->
<div class="triangle" style="left: -80px; top: -40px; border-left: 200px solid transparent; border-right: 230px solid transparent; border-bottom: 480px solid rgba(68, 2, 129, 0.5); transform: rotate(-5deg);"></div>
<!-- Triangle 2 -->
<div class="triangle" style="left: -100px; top: 450px; border-left: 220px solid transparent; border-right: 450px solid transparent; border-bottom: 270px solid rgba(84, 101, 248, 0.5); transform: rotate(55deg);"></div>
<!-- Triangle 3 -->
<div class="triangle" style="left: -100px; top: 500px; border-left: 180px solid transparent; border-right: 230px solid transparent; border-bottom: 300px solid rgba(0, 70, 67, 0.726); transform: rotate(45deg);"></div>
<!-- Triangle 4 -->
<div class="triangle" style="left: 60px; top: 150px; border-left: 230px solid transparent; border-right: 290px solid transparent; border-bottom: 180px solid rgba(154, 45, 255, 0.411); transform: rotate(230deg);"></div>
<!-- Triangle 5 -->
<div class="triangle" style="left: 230px; top: 250px; border-left: 110px solid transparent; border-right: 190px solid transparent; border-bottom: 380px solid rgba(2, 117, 94, 0.629); transform: rotate(-30deg);"></div>
<!-- Triangle 6 -->
<div class="triangle" style="left: 190px; top: 580px; border-left: 230px solid transparent; border-right: 290px solid transparent; border-bottom: 180px solid rgba(183, 1, 171, 0.429); transform: rotate(-20deg);"></div>
<!-- Triangle 7 -->
<div class="triangle" style="left: 220px; top: 20px; border-left: 320px solid transparent; border-right: 160px solid transparent; border-bottom: 200px solid rgba(3, 119, 123, 0.39); transform: rotate(-35deg);"></div>
<!-- Triangle 8 -->
<div class="triangle" style="left: 400px; top: 400px; border-left: 130px solid transparent; border-right: 350px solid transparent; border-bottom: 280px solid rgba(120, 0, 150, 0.5); transform: rotate(45deg);"></div> 
<!-- Triangle 9 -->
<div class="triangle" style="left: 550px; top: 450px; border-left: 250px solid transparent; border-right: 350px solid transparent; border-bottom: 330px solid rgba(3, 199, 121, 0.292); transform: rotate(-40deg);"></div>
<!-- Triangle 10 -->
<div class="triangle" style="left: 380px; top: 30px; border-left: 380px solid transparent; border-right: 100px solid transparent; border-bottom: 280px solid rgba(0, 103, 193, 0.432); transform: rotate(-40deg);"></div>
<!-- Triangle 11 -->
<div class="triangle" style="left: 550px; top: 200px; border-left: 300px solid transparent; border-right: 200px solid transparent; border-bottom: 350px solid rgba(35, 6, 165, 0.473); transform: rotate(-20deg);"></div>
<!-- Triangle 12 -->
<div class="triangle" style="left: 650px; top: 350px; border-left: 290px solid transparent; border-right: 220px solid transparent; border-bottom: 150px solid rgba(126, 0, 168, 0.5); transform: rotate(-45deg);"></div>
<!-- Triangle 13 -->
<div class="triangle" style="left: 700px; top: -10px; border-left: 290px solid transparent; border-right: 370px solid transparent; border-bottom: 200px solid rgba(141, 0, 222, 0.5); transform: rotate(-20deg);"></div>
<!-- Triangle 14 -->
<div class="triangle" style="left: 880px; top: 500px; border-left: 120px solid transparent; border-right: 380px solid transparent; border-bottom: 200px solid rgba(0, 118, 202, 0.5); transform: rotate(50deg);"></div>
<!-- Triangle 15 -->
<div class="triangle" style="left: 920px; top: 50px; border-left: 100px solid transparent; border-right: 400px solid transparent; border-bottom: 300px solid rgba(196, 2, 196, 0.5); transform: rotate(-30deg);"></div>
<!-- Triangle 16 -->
<div class="triangle" style="left: 1020px; top: 380px; border-left: 260px solid transparent; border-right: 340px solid transparent; border-bottom: 350px solid rgba(106, 0, 159, 0.5); transform: rotate(-30deg);"></div>
<!-- Triangle 17 -->
<div class="triangle" style="left: 1180px; top: 250px; border-left: 270px solid transparent; border-right: 180px solid transparent; border-bottom: 220px solid rgba(0, 150, 250, 0.5); transform: rotate(40deg);"></div>
<!-- Triangle 18 -->
<div class="triangle" style="left: 1200px; top: -90px; border-left: 150px solid transparent; border-right: 170px solid transparent; border-bottom: 400px solid rgba(31, 249, 176, 0.5); transform: rotate(-50deg);"></div>
<!-- Triangle 19 -->
<div class="triangle" style="left: 1200px; top: 600px; border-left: 280px solid transparent; border-right: 330px solid transparent; border-bottom: 180px solid rgba(248, 50, 199, 0.5); transform: rotate(30deg);"></div>
<!-- Triangle 20 -->
<div class="triangle" style="left: 1000px; top: 400px; border-left: 320px solid transparent; border-right: 180px solid transparent; border-bottom: 110px solid rgba(0, 62, 162, 0.5); transform: rotate(40deg);"></div>
<!-- Triangle 20 -->
<div class="triangle" style="left: 1050px; top: 80px; border-left: 300px solid transparent; border-right: 230px solid transparent; border-bottom: 150px solid rgba(0, 157, 162, 0.614); transform: rotate(-45deg);"></div>

<!-- Centre Rectangle -->
<div style="position: absolute; top: 55%; left: 50%; transform: translate(-50%, -50%); width: 1350px; height: 640px; background-color: rgba(255, 255, 255, 0.467);"></div>   
<!-- title Rectangle -->
<div style="position: absolute; top: 8%; left: 50%; transform: translate(-50%, -50%); width: 900px; height: 80px; background-color: rgba(255, 255, 255, 0.467);">
  <div style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%;">
    <p style="font-family:Orbitron ; text-align: center; font-size: 74px; color: rgb(255, 255, 255); font-weight: bold;">Hanoi Towers</p>
</div>
<!--Text Rectangle-->
<div style="position: absolute; top: 230%; left: 50%; transform: translate(-50%, -50%); width: 1350px; height: 140px; background-color: rgba(255, 255, 255, 0.674);">
    <div style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%;">
      <p style="font-family:Orbitron ; text-align: center; font-size: 28px; color: rgb(0, 0, 0); font-weight: bold;">Object of the game is to move all the disks from Tower A over to Tower C. <br>But you cannot place a larger disk onto a smaller disk. <br>You may use Tower B as a helper Tower.</p>
</div>   

<div class="container">
  <div class="towers">
    <div class="tower-container">
        <div class="label">A</div>
        <div id="towerA" class="tower" ondrop="drop(event)" ondragover="allowDrop(event)" draggable="false">
            <div class="disk3" draggable="true" ondragstart="drag(event)"></div>
            <div class="disk2" draggable="true" ondragstart="drag(event)"></div>
            <div class="disk1" draggable="true" ondragstart="drag(event)"></div>
        </div>
    </div>
    <div class="tower-container">
        <div class="label">B</div>
        <div id="towerB" class="tower" ondrop="drop(event)" ondragover="allowDrop(event)" draggable="false"></div>
    </div>
    <div class="tower-container">
        <div class="label">C</div>
        <div id="towerC" class="tower" ondrop="drop(event)" ondragover="allowDrop(event)" draggable="false"></div>
    </div>
</div>
<div id="moveCount">Moves: 0</div>
<button id="resetButton">Play</button>
</div>

<!-- Popup container -->
<div id="popup" class="popup">
    <div id="popupContent">
        <p>Congratulations! You won in <span id="popupMoveCount"></span> moves!</p>
        <button id="popupCloseButton">Close</button>
    </div>
</div>

<!-- Overlay -->
<div id="overlay" class="overlay"></div>



<script>
  let moveCount = 0;
  let gameInProgress = false;
  
  function allowDrop(ev) {
    ev.preventDefault();
  }
  
  function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.className);
  }
  
  function drop(ev) {
    ev.preventDefault();
    const data = ev.dataTransfer.getData("text");
    const sourceDiskClass = data.split(" ")[1]; // Extract disk class name
    const sourceDiskSize = parseInt(sourceDiskClass.replace("disk", "")); // Extract disk size as an integer

    // Get the target tower element based on the drop position
    const targetTower = ev.target.closest('.tower');

    if (targetTower) {
      // Check if the target tower is empty or the dropped disk is smaller than the top disk on the target tower
      if (targetTower.children.length === 0 || sourceDiskSize < parseInt(targetTower.lastChild.className.split(" ")[1].replace("disk", ""))) {
          targetTower.appendChild(document.querySelector(`.${sourceDiskClass}`)); // Append the disk onto the target tower
          moveCount++;
          document.getElementById("moveCount").textContent = `Moves: ${moveCount}`;
          checkWin();
      } else {
          alert("Invalid move!");
      }
    } else {
      alert("Invalid drop area!"); // Alert if the drop occurs outside of any tower
    }
  }
  
  function checkWin() {
    if (document.getElementById('towerC').children.length === 3) {
      const disks = document.getElementById('towerC').children;
      if (parseInt(disks[0].classList[1].replace("disk", "")) === 3 && parseInt(disks[1].classList[1].replace("disk", "")) === 2 && parseInt(disks[2].classList[1].replace("disk", "")) === 1) {
        // Display the popup message
        document.getElementById("popupMoveCount").textContent = moveCount;
        document.getElementById("popup").style.display = "block";
        document.getElementById("overlay").style.display = "block";
      }
    }
  }
  
  document.getElementById("resetButton").addEventListener("click", () => {
    if (gameInProgress) {
      // Reset the game
      document.querySelectorAll(".tower").forEach(tower => {
        while (tower.firstChild) {
          tower.removeChild(tower.firstChild);
        }
      });
      moveCount = 0;
      document.getElementById("moveCount").textContent = `Moves: ${moveCount}`;
      document.getElementById("resetButton").textContent = "Play";
      gameInProgress = false;
    } else {
        // Start the game
        document.getElementById("towerA").innerHTML = `<div class="disk disk3" draggable="true" ondragstart="drag(event)"></div><div class="disk disk2" draggable="true" ondragstart="drag(event)"></div><div class="disk disk1" draggable="true" ondragstart="drag(event)"></div>`;
        document.getElementById("resetButton").textContent = "Reset";
        gameInProgress = true;
    }
  });
  
  // Close the popup when the close button is clicked
  document.getElementById("popupCloseButton").addEventListener("click", () => {
    document.getElementById("popup").style.display = "none";
    document.getElementById("overlay").style.display = "none";
  });
  </script>
  
</body>
</html>